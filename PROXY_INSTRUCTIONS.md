# Инструкция по работе с Менеджером Прокси

Эта инструкция описывает правильный рабочий процесс для функции управления прокси-серверами в приложении "Секретарь+".

## Основная логика

Цель функции — не заставлять пользователя искать и вставлять списки прокси, а предоставить ему инструмент, где **Искусственный Интеллект (ИИ) самостоятельно находит** потенциальные прокси, а пользователь их тестирует и утверждает.

## Пошаговый процесс

1.  **Инициация поиска**:
    *   Пользователь нажимает на кнопку **"Найти прокси с помощью ИИ"**.
    *   Приложение отправляет запрос к Gemini с просьбой сгенерировать список публичных прокси-серверов.

2.  **Отображение результатов**:
    *   Найденные ИИ прокси-серверы появляются в списке **"Найденные прокси"**.
    *   Каждый прокси в этом списке имеет кнопку **"Тест"**.

3.  **Тестирование**:
    *   Пользователь нажимает кнопку **"Тест"** для интересующего его прокси.
    *   Открывается модальное окно, и приложение выполняет тестовое соединение через этот прокси к API Gemini.
    *   В модальном окне отображается статус теста (успех, ошибка, время ответа).

4.  **Принятие решения**:
    *   После завершения теста в модальном окне появляются три кнопки:
        *   **"Использовать"**: Если тест прошел успешно, эта кнопка добавляет прокси в основной, сохраненный список пользователя в базе данных Supabase. Прокси помечается как рабочий.
        *   **"Отклонить"**: Эта кнопка отбрасывает прокси. Он не добавляется в основной список и удаляется из списка найденных.
        *   **"Повторить"**: Эта кнопка запускает процесс тестирования для этого же прокси заново.

5.  **Управление сохраненными прокси**:
    *   Прокси, добавленные с помощью кнопки "Использовать", отображаются в основном списке "Ваши прокси-серверы".
    *   В этом списке пользователь может управлять ими: изменять приоритет, временно отключать, повторно тестировать или удалять.

## Места реализации

Этот функционал должен быть **зеркально отражен** в двух местах:
1.  В **Мастере Настройки** (для первоначальной конфигурации).
2.  В **Модальном окне Настроек** (доступном по клику на иконку шестеренки в основном интерфейсе приложения для последующего управления).
