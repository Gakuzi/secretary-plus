# Инструкция по настройке "Секретарь+"

Этот файл содержит все необходимые инструкции для первоначальной настройки вашего проекта в Supabase.

---

## Часть 1: Настройка базы данных Supabase

### Шаг 1: Создание проекта в Supabase

1.  Перейдите на [supabase.com](https://supabase.com/) и создайте новый проект.
2.  Сохраните **URL проекта** и **ключ `anon`** из настроек API вашего проекта. Они понадобятся для файла `config.js`.

### Шаг 2: Настройка аутентификации Google

1.  В панели управления Supabase перейдите в раздел **Authentication** -> **Providers**.
2.  Включите провайдер **Google**.
3.  Вам нужно будет создать учетные данные OAuth 2.0 в [Google Cloud Console](https://console.cloud.google.com/).
4.  Скопируйте **Redirect URI** из настроек провайдера Google в Supabase и вставьте его в поле "Authorized redirect URIs" в Google Cloud Console.
5.  Скопируйте **Client ID** и **Client Secret** из Google Cloud Console и вставьте их в соответствующие поля в Supabase.
6.  Убедитесь, что вы добавили все необходимые области (scopes) в Google Cloud Console, которые указаны в файле `constants.js` вашего приложения.
7.  Сохраните настройки провайдера в Supabase.

### Шаг 3: Выполнение SQL-скрипта

1.  В панели управления Supabase перейдите в раздел **SQL Editor**.
2.  Нажмите **New query**.
3.  **Скопируйте ВЕСЬ код** из файла `services/supabase/migrations.js` (переменная `FULL_MIGRATION_SQL`) и вставьте его в редактор SQL.
4.  Нажмите кнопку **RUN**.

После успешного выполнения скрипта ваша база данных будет готова к работе с приложением.

---

## Часть 2 (Обязательно): Настройка Управляющего Воркера

Этот воркер (Supabase Edge Function) **необходим** для безопасного автоматического обновления схемы вашей базы данных прямо из приложения. Без него администраторы не смогут использовать функцию миграции в один клик.

**Полная инструкция по настройке находится в файле [DB_WORKER_SETUP.md](./DB_WORKER_SETUP.md).**

---

## Часть 3 (Опционально): Настройка Прокси-воркера

Этот воркер необходим для обхода региональных ограничений Gemini API. Он будет перенаправлять ваши запросы и добавлять необходимые CORS-заголовки.

**Полная инструкция по настройке находится в файле [PROXY_WORKER_SETUP.md](./PROXY_WORKER_SETUP.md).**
